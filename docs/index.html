<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Text Toolkit â€“ Demo</title>
<style>
    body {
        font-family: system-ui, Segoe UI, Roboto, sans-serif;
        max-width: 860px;
        margin: 40px auto;
        padding: 0 16px
    }

    h1 {
        margin: 0 0 8px
    }

    .card {
        border: 1px solid #e5e7eb;
        border-radius: 12px;
        padding: 16px;
        margin: 12px 0
    }

    textarea,
    input,
    button {
        font: inherit
    }

    textarea {
        width: 100%;
        height: 110px
    }

    .row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px
    }
</style>

<h1>Text Toolkit Demo</h1>
<p>Clean text, quick sentiment, and similarity using your FastAPI backend.</p>

<div class="card">
    <h3>Clean</h3>
    <textarea id="clean_in" placeholder="Paste text"></textarea>
    <button onclick="doClean()">Clean</button>
    <pre id="clean_out"></pre>
</div>

<div class="card">
    <h3>Sentiment</h3>
    <textarea id="sent_in" placeholder="Paste text"></textarea>
    <button onclick="doSent()">Analyze</button>
    <pre id="sent_out"></pre>
</div>

<div class="card">
    <h3>Similarity</h3>
    <div class="row">
        <textarea id="sim_a" placeholder="Text A"></textarea>
        <textarea id="sim_b" placeholder="Text B"></textarea>
    </div>
    <button onclick="doSim()">Compare</button>
    <pre id="sim_out"></pre>
</div>

<script>
    const BASE = "https://text-toolkit-api.onrender.com"; // <-- your Render URL

    async function post(path, body) {
        const r = await fetch(BASE + path, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(body)
        });
        return r.json();
    }
    async function doClean() {
        const text = document.getElementById('clean_in').value;
        const out = await post("/clean", { text });
        document.getElementById('clean_out').textContent = JSON.stringify(out, null, 2);
    }
    async function doSent() {
        const text = document.getElementById('sent_in').value;
        const out = await post("/sentiment", { text });
        document.getElementById('sent_out').textContent = JSON.stringify(out, null, 2);
    }
    async function doSim() {
        const a = document.getElementById('sim_a').value;
        const b = document.getElementById('sim_b').value;
        const out = await post("/similarity", { a, b });
        document.getElementById('sim_out').textContent = JSON.stringify(out, null, 2);
    }
</script>